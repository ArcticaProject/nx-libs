Description: Assure that headers from libNX_X11 are always included from ${INCDIR}/nx-X11/.
Author: Mike Gabriel <mike.gabriel@das-netzwerkteam.de>

Index: Mesa/include/GL/xmesa.h
===================================================================
--- Mesa.orig/include/GL/xmesa.h
+++ Mesa/include/GL/xmesa.h
@@ -75,8 +75,8 @@ extern "C" {
 #ifdef XFree86Server
 #include "xmesa_xf86.h"
 #else
-#include <X11/Xlib.h>
-#include <X11/Xutil.h>
+#include <nx-X11/Xlib.h>
+#include <nx-X11/Xutil.h>
 #include "xmesa_x.h"
 #endif
 #include "GL/gl.h"
Index: Mesa/src/glx/x11/glcontextmodes.c
===================================================================
--- Mesa.orig/src/glx/x11/glcontextmodes.c
+++ Mesa/src/glx/x11/glcontextmodes.c
@@ -37,7 +37,7 @@
 #if defined(HAVE_DIX_CONFIG_H)
 # include <dix-config.h>
 #endif
-#include <X11/X.h>
+#include <nx-X11/X.h>
 #include <GL/glx.h>
 #include "GL/glxint.h"
 #endif
@@ -57,7 +57,7 @@
 #  define _mesa_free(m)   free(m)
 #  define _mesa_memset   memset
 # else
-#  include <X11/Xlibint.h>
+#  include <nx-X11/Xlibint.h>
 #  define _mesa_memset memset
 #  define _mesa_malloc(b) malloc(b)
 #  define _mesa_free(m) free(m)
Index: Mesa/src/mesa/drivers/x11/glxheader.h
===================================================================
--- Mesa.orig/src/mesa/drivers/x11/glxheader.h
+++ Mesa/src/mesa/drivers/x11/glxheader.h
@@ -39,13 +39,13 @@
 
 #else
 
-# include <X11/Xlib.h>
-# include <X11/Xlibint.h>
-# include <X11/Xutil.h>
+# include <nx-X11/Xlib.h>
+# include <nx-X11/Xlibint.h>
+# include <nx-X11/Xutil.h>
 # ifdef USE_XSHM  /* was SHM */
 #  include <sys/ipc.h>
 #  include <sys/shm.h>
-#  include <X11/extensions/XShm.h>
+#  include <nx-X11/extensions/XShm.h>
 # endif
 # include <GL/glx.h>
 # include <sys/time.h>
Index: Mesa/src/mesa/glapi/glthread.h
===================================================================
--- Mesa.orig/src/mesa/glapi/glthread.h
+++ Mesa/src/mesa/glapi/glthread.h
@@ -185,7 +185,7 @@ typedef CRITICAL_SECTION _glthread_Mutex;
  * We wrap it again for GL.
  */
 #ifdef USE_XTHREADS
-#include <X11/Xthreads.h>
+#include <nx-X11/Xthreads.h>

 typedef struct {
    xthread_key_t key;
